erDiagram
    DWH_LIEFERANTEN {
        bigint dwh_lieferant_id PK "Surrogate Key"
        int lieferant_id "Business Key"
        varchar name
        varchar land
        varchar stadt
        varchar strasse
        varchar plz
        int qualitaetsstufe
        int zahlungsziel_tage
        numeric rabatt_prozent
        boolean aktiv
        varchar ansprechpartner
        varchar telefon
        varchar email
        timestamp erstellt_am
        timestamp geaendert_am
        timestamp gueltig_von "SCD Type 2"
        timestamp gueltig_bis "SCD Type 2"
        boolean is_current "SCD Type 2"
        int version_nummer "SCD Type 2"
        varchar aenderungstyp "SCD Type 2"
        varchar geaendert_durch "SCD Type 2"
        timestamp dwh_geladen_am "SCD Type 2"
    }
    
    DWH_MATERIALIEN {
        bigint dwh_material_id PK
        int material_id
        int lieferant_id
        varchar materialname
        varchar materialkategorie
        varchar einheit
        numeric einkaufspreis
        int mindestbestand
        int lagerbestand
        boolean nachhaltigkeit_zertifikat
        varchar herkunftsland
        int lieferzeit_tage
        boolean aktiv
        timestamp erstellt_am
        timestamp geaendert_am
        timestamp gueltig_von
        timestamp gueltig_bis
        boolean is_current
        int version_nummer
        varchar aenderungstyp
        varchar geaendert_durch
        timestamp dwh_geladen_am
    }
    
    DWH_PRODUKTE {
        bigint dwh_produkt_id PK
        int produkt_id
        varchar produktname
        varchar produktkategorie
        varchar produktlinie
        numeric verkaufspreis
        numeric herstellkosten
        numeric gewicht_kg
        varchar masse_lxbxh
        varchar farbe
        varchar material_haupttyp
        int lagerbestand
        int mindestbestand
        boolean aktiv
        timestamp erstellt_am
        timestamp geaendert_am
        timestamp gueltig_von
        timestamp gueltig_bis
        boolean is_current
        int version_nummer
        varchar aenderungstyp
        varchar geaendert_durch
        timestamp dwh_geladen_am
    }
    
    DWH_BESTELLUNGEN {
        bigint dwh_bestell_id PK
        int bestell_id
        varchar kundennummer
        varchar kundenname
        varchar kundenkategorie
        date bestelldatum
        date lieferdatum
        varchar status
        numeric gesamtwert
        varchar zahlungsbedingung
        numeric versandkosten
        numeric rabatt_prozent
        varchar land
        timestamp erstellt_am
        timestamp geaendert_am
        timestamp gueltig_von
        timestamp gueltig_bis
        boolean is_current
        int version_nummer
        varchar aenderungstyp
        varchar geaendert_durch
        timestamp dwh_geladen_am
    }
    
    DWH_PRODUKTIONSCHARGEN {
        bigint dwh_chargen_id PK
        int chargen_id
        int produkt_id
        varchar chargennummer
        int produktionsmenge
        date produktionsdatum
        date fertigstellungsdatum
        varchar status
        numeric ausschussquote_prozent
        varchar verantwortlicher_mitarbeiter
        varchar schicht
        int qualitaetsnote
        text bemerkung
        timestamp erstellt_am
        timestamp geaendert_am
        timestamp gueltig_von
        timestamp gueltig_bis
        boolean is_current
        int version_nummer
        varchar aenderungstyp
        varchar geaendert_durch
        timestamp dwh_geladen_am
    }